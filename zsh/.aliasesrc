# General usage
alias clr='clear'
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias .....='cd ../../../..'
# nvim
alias v='nvim'
alias vi='nvim'
# Nightly build. Script is under '/usr/local/bin'
alias vn='nvim-nightly.sh'
# lazygit
alias lg='lazygit'
# neofetch
alias neofetch='neofetch --backend kitty --source $HOME/Documents/MyDocuments/Photos/AndyDrawing.jpg'
# Java
alias java8='export JAVA_HOME=$JAVA_8_HOME'
alias java14='export JAVA_HOME=$JAVA_14_HOME'
# SSH
alias ssh='TERM=xterm-256color ssh'
# Brew
alias brup='brew update && brew upgrade'
# NVM
alias n='nvm use'
# Navigating to dotfiles, and regularly-used directories
alias dot='cd $HOME/.config/dotfiles'
alias nrc='cd $HOME/.config/nvim && v init.lua'
alias krc='cd $HOME/.config/kitty && v kitty.conf'
alias zrc='cd $HOME/.config/zsh && v .zshrc'
alias mine='cd $HOME/zachyho-gits'
alias mds='mine && cd Markdowns'
# Vimwiki
alias vw='mine && cd vimwiki && v index.md'
# Sourcing rc files
alias zs='source $HOME/.config/dotfiles/zsh/.zshrc'
# Set Kitty colors
alias ksc='kitty @ set-colors --all --configured $HOME/.config/kitty/kitty.conf'
# git (see https://github.com/ohmyzsh/ohmyzsh/tree/master/plugins/git if need more)
alias gst='git status'
alias ga='git add'
alias gco='git checkout'
alias gb='git branch'
alias gba='git branch -a'
alias gl='git pull'
alias glr='git pull --rebase'
alias gp='git push'
alias gpsu='git push --set-upstream'
alias gpsuo='git push --set-upstream origin $(git branch --show-current)'
alias gm='git merge'
alias gacm='git add . && git commit -m'
alias gwt='git worktree'
alias gbcleanup='cleanup_git_branches'
alias gcoub='checkout_untracked_branch'

# Print a link to the repo
alias repo_link='git remote get-url origin | sed "s/.git$//"' #| sed -n ‘s_.*:\\(.*\\)\\.git_https://github.com/\\1_p’
# Print current branch
alias branch_name='git branch --show-current'
# Print a link to an existing PR matching current branch
alias pr_link='echo $(git repo_link)/compare/master...$(git branch-name)'
# Push a new local branch to create a PR
alias publish='git push -u origin $(git branch_name) && open $(git pr_link)'

# docker
alias dockerStopAll='docker stop $(docker ps -a -q)'

# git functions
function cleanup_git_branches() {
    git remote prune origin && git branch -v | awk '$3 == "[gone]" { print $1 }' | xargs git branch -D
}

function checkout_untracked_branch() {
    readonly branch=${1:?"The branch must be specified."}
    git fetch origin $branch && git checkout FETCH_HEAD
}

# thefuck
eval "$(thefuck --alias fk)"
